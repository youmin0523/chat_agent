# AI ë²•ë¥  ìƒë‹´ ì—ì´ì „íŠ¸ (Chat Agent)

ì´ í”„ë¡œì íŠ¸ëŠ” OpenAI(`GPT-4o-mini`)ì™€ LangChain, Tavily Search APIë¥¼ í™œìš©í•˜ì—¬ êµ¬ì¶•ëœ **ë²•ë¥  ìƒë‹´ ì „ìš© AI ì±—ë´‡**ì…ë‹ˆë‹¤.
ì‚¬ìš©ìì˜ ìì—°ì–´ ì§ˆë¬¸ì„ ì´í•´í•˜ê³ , ì‹¤ì‹œê°„ ì›¹ ê²€ìƒ‰ì„ í†µí•´ ìµœì‹  ë²•ë¥  ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì •í™•í•œ ë‹µë³€ì„ ì œê³µí•©ë‹ˆë‹¤.

---

## ğŸš€ ê¸°ëŠ¥ ë¦¬ìŠ¤íŠ¸ (Feature List)

### 1. AI ë²•ë¥  ìƒë‹´ (Legal Consultation)

- **ì„¤ëª…**: ì‚¬ìš©ìì˜ ë²•ë¥  ê´€ë ¨ ì§ˆë¬¸ì— ëŒ€í•´ ì „ë¬¸ì ì¸ ë‹µë³€ì„ ì œê³µí•©ë‹ˆë‹¤.
- **ê¸°ìˆ **: `GPT-4o-mini` ê¸°ë°˜ì˜ LLMì´ ë²•ë¥  ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ì‘ë‹µì„ ìƒì„±í•©ë‹ˆë‹¤.
- **íŠ¹ì§•**: "ë°˜ê°‘ìŠµë‹ˆë‹¤. ì–´ë–¤ ë²•ë¥ ì„ ì•Œë ¤ë“œë¦´ê¹Œìš”?"ì™€ ê°™ì€ ìì—°ìŠ¤ëŸ¬ìš´ ì¸ì‚¬ë§ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### 2. ì‹¤ì‹œê°„ ì›¹ ê²€ìƒ‰ (Real-time Search)

- **ì„¤ëª…**: ìµœì‹  íŒë¡€ë‚˜ ì‹¤ì‹œê°„ ë²•ë¥  ê°œì • ì‚¬í•­ ë“± LLM í•™ìŠµ ë°ì´í„°ì— ì—†ëŠ” ìµœì‹  ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ì—¬ ë‹µë³€ì— ë°˜ì˜í•©ë‹ˆë‹¤.
- **ê¸°ìˆ **: `Tavily Search API`ë¥¼ ì—°ë™í•˜ì—¬ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë²•ë¥  ì •ë³´ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.
- **íŠ¹ì§•**: ê²€ìƒ‰ ê²°ê³¼(Source)ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹µë³€ì˜ ê·¼ê±°ë¥¼ ê°•í™”í•©ë‹ˆë‹¤.

### 3. ë©€í‹°í„´ ëŒ€í™” (Multi-turn Conversation)

- **ì„¤ëª…**: ì´ì „ ëŒ€í™” ë§¥ë½ì„ ê¸°ì–µí•˜ì—¬ ì—°ì†ì ì¸ ì§ˆë¬¸ê³¼ ë‹µë³€ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- **ê¸°ìˆ **: `FastAPI`ì˜ `App State`ë¥¼ í™œìš©í•œ ì„¸ì…˜ ê´€ë¦¬(í˜„ì¬ëŠ” ë©”ëª¨ë¦¬ ê¸°ë°˜).
- **íŠ¹ì§•**: "ê·¸ê±´ ë¬´ìŠ¨ ëœ»ì´ì•¼?"ì™€ ê°™ì€ ëŒ€ëª…ì‚¬ ì§ˆë¬¸ë„ ë¬¸ë§¥ì„ íŒŒì•…í•˜ì—¬ ì •í™•íˆ ë‹µë³€í•©ë‹ˆë‹¤.

### 4. í•œêµ­ì–´ ìµœì í™” (Korean Optimization)

- **ì„¤ëª…**: í•œêµ­ ë²•ë¥  ìš©ì–´ì™€ ë¬¸ë§¥ì— ìµœì í™”ëœ í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ì´ ì ìš©ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
- **íŠ¹ì§•**: ëª¨ë“  ë‹µë³€ì€ í•œêµ­ì–´ë¡œ ì œê³µë˜ë©°, ì „ë¬¸ ìš©ì–´ë¥¼ ì‰½ê²Œ í’€ì–´ ì„¤ëª…í•©ë‹ˆë‹¤.

### 5. API ì„œë²„ í—¬ìŠ¤ ì²´í¬ (Health Check)

- **ì„¤ëª…**: ì„œë²„ì˜ ì •ìƒ ì‘ë™ ì—¬ë¶€ë¥¼ ì¦‰ì‹œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- **ê¸°ìˆ **: `GET /` ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µí•´ 200 OK ì‘ë‹µ ë° í™˜ì˜ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

### 6. ì¸í„°ë™í‹°ë¸Œ UI (Frontend Features)

- **í”Œë¡œíŒ… ì±—ë´‡ (Floating Chatbot)**: í™”ë©´ ìš°ì¸¡ í•˜ë‹¨ì— ê³ ì •ëœ í”Œë¡œíŒ… ë²„íŠ¼ì„ í†µí•´ ì–¸ì œë“  ì±„íŒ…ì°½ì„ ì—´ê³  ë‹«ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì‹¤ì‹œê°„ ë°˜ì‘ (Responsive Interaction)**: ì‚¬ìš©ìê°€ ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ë©´ "ìƒê°ì¤‘ ..." ìƒíƒœë¥¼ í‘œì‹œí•˜ì—¬ ì‘ë‹µ ëŒ€ê¸° ì‹œê°„ì„ ì‹œê°ì ìœ¼ë¡œ ì•ˆë‚´í•©ë‹ˆë‹¤.
- **ìë™ ìŠ¤í¬ë¡¤ (Auto Scroll)**: ìƒˆë¡œìš´ ë©”ì‹œì§€ê°€ ë„ì°©í•˜ë©´ ì±„íŒ…ì°½ì´ ìë™ìœ¼ë¡œ ìµœí•˜ë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤ë˜ì–´ ìµœì‹  ëŒ€í™”ë¥¼ ë°”ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë° ë°ì´í„° íë¦„ (Architecture)

### ì „ì²´ êµ¬ì¡°ë„ (Overview)

```mermaid
graph LR
    User[ì‚¬ìš©ì (Browser)] -- "1. ì§ˆë¬¸ ì…ë ¥" --> ChatForm[Front: ChatForm.jsx]
    ChatForm -- "2. ìƒíƒœ ì—…ë°ì´íŠ¸" --> App[Front: App.jsx]
    App -- "3. API ìš”ì²­ (POST /chat)" --> Backend[Back: main.py]
    Backend -- "4. LLM ì²˜ë¦¬ ìš”ì²­" --> Agent[Back: agent.py]
    Agent -- "5. ê²€ìƒ‰ ìˆ˜í–‰ (Tavily)" --> Search[External: Web Search]
    Agent -- "6. ë‹µë³€ ìƒì„± (GPT-4o)" --> LLM[External: OpenAI]
    Agent -- "7. ìµœì¢… ë‹µë³€ ë°˜í™˜" --> Backend
    Backend -- "8. ì‘ë‹µ (JSON)" --> App
    App -- "9. í™”ë©´ ë Œë”ë§" --> ChatMessages[Front: ChatMessages.jsx]
```

### íŒŒì¼ë³„ ì—­í•  ë° ì—°ê²° ê´€ê³„ (File Dependency)

#### Frontend (React)

- **`src/App.jsx`**: ì•±ì˜ ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬. API í†µì‹  ë° ìƒíƒœ ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.
- **`src/components/ChatForm.jsx`**: ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì•„ `App.jsx`ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
- **`src/components/ChatMessages.jsx`**: ì£¼ê³ ë°›ì€ ë©”ì‹œì§€ë¥¼ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.

#### Backend (FastAPI)

- **`back/main.py`**: API ì„œë²„ì˜ ì§„ì…ì (Entry Point). í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ë°›ì•„ `agent.py`ë¡œ ë„˜ê¹ë‹ˆë‹¤.
- **`back/agent.py`**: LangChain ê¸°ë°˜ì˜ í•µì‹¬ ë¡œì§. ê²€ìƒ‰ í•„ìš” ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ê³  ë‹µë³€ì„ ìƒì„±í•©ë‹ˆë‹¤.

### ë°ì´í„° íë¦„ ì‹œë‚˜ë¦¬ì˜¤ (Data Flow Example)

1. **ì…ë ¥**: ì‚¬ìš©ìê°€ "ì „ì„¸ ì‚¬ê¸° ì˜ˆë°©ë²•" ì…ë ¥ -> `ChatForm`
2. **ìš”ì²­**: `App.jsx`ê°€ `POST /chat`ìœ¼ë¡œ ë©”ì‹œì§€ ì „ì†¡
3. **ì²˜ë¦¬**: `main.py` -> `agent.py` (ì›¹ ê²€ìƒ‰ ìˆ˜í–‰ + ë‹µë³€ ìƒì„±)
4. **ì‘ë‹µ**: JSON í˜•íƒœì˜ ë‹µë³€ ë°˜í™˜ -> `App.jsx`
5. **ì¶œë ¥**: `ChatMessages` ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë‹µë³€ ë Œë”ë§

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

### Backend

- **Language**: Python 3.14
- **Framework**: FastAPI
- **AI/LLM**: LangChain, LangGraph, OpenAI GPT-4o-mini
- **Search**: Tavily Python Client
- **Environment**: python-dotenv

### Frontend

- **Framework**: React (Vite)
- **Styling**: Vanilla CSS (Custom Design)
- **Icons**: Material Symbols Rounded
- **State Management**: React Hooks (useState, useRef)

### Dev Ops (Local)

- **Server**: Uvicorn (ASGI Server)
- **Validation**: Pydantic
